{"ast":null,"code":"import * as echarts from 'echarts';\nconst barOption = {\n  title: {\n    text: '各类活动报名数量统计',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'axis'\n  },\n  legend: {\n    left: 'left'\n  },\n  xAxis: {\n    type: 'category',\n    data: [],\n    axisLabel: {\n      show: true,\n      // 是否显示刻度标签，默认显示\n      interval: 0,\n      // 坐标轴刻度标签的显示间隔，在类目轴中有效；默认会采用标签不重叠的策略间隔显示标签；可以设置成0强制显示所有标签；如果设置为1，表示『隔一个标签显示一个标签』，如果值为2，表示隔两个标签显示一个标签，以此类推。\n      rotate: -60,\n      // 刻度标签旋转的角度，在类目轴的类目标签显示不下的时候可以通过旋转防止标签之间重叠；旋转的角度从-90度到90度\n      inside: false,\n      // 刻度标签是否朝内，默认朝外\n      margin: 6 // 刻度标签与轴线之间的距离\n    }\n  },\n\n  yAxis: {\n    type: 'value'\n  },\n  series: [{\n    data: [],\n    type: 'bar',\n    itemStyle: {\n      normal: {\n        color: function (params) {\n          // 根据索引返回对应的颜色\n          let colorList = ['#ffaa2e', '#32C5E9', '#fa4c4c', '#08b448', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3'];\n          return colorList[params.dataIndex];\n        }\n      }\n    }\n  }]\n};\nconst pieOption = {\n  title: {\n    text: '各类服务预约统计',\n    subtext: '比例图',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'item'\n  },\n  legend: {\n    orient: 'vertical',\n    left: 'left'\n  },\n  series: [{\n    type: 'pie',\n    center: ['50%', '60%'],\n    radius: '50%',\n    data: [],\n    label: {\n      show: true,\n      formatter(param) {\n        return param.name + ' (' + param.percent + '%)';\n      }\n    },\n    emphasis: {\n      itemStyle: {\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowColor: 'rgba(0, 0, 0, 0.5)'\n      }\n    }\n  }]\n};\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      notices: []\n    };\n  },\n  created() {\n    this.$request.get('/notice/selectAll').then(res => {\n      this.notices = res.data || [];\n    });\n  },\n  mounted() {\n    let barDom = document.getElementById('bar');\n    let barChart = echarts.init(barDom);\n    this.$request.get('/activitySign/selectCount').then(res => {\n      barOption.xAxis.data = res.data?.map(v => v.name);\n      barOption.series[0].data = res.data?.map(v => v.value);\n      barChart.setOption(barOption);\n    });\n    let pieDom = document.getElementById('pie');\n    let pieChart = echarts.init(pieDom);\n    this.$request.get('/reserve/selectCount').then(res => {\n      pieOption.series[0].data = res.data || [];\n      pieChart.setOption(pieOption);\n    });\n  }\n};","map":{"version":3,"names":["echarts","barOption","title","text","left","tooltip","trigger","legend","xAxis","type","data","axisLabel","show","interval","rotate","inside","margin","yAxis","series","itemStyle","normal","color","params","colorList","dataIndex","pieOption","subtext","orient","center","radius","label","formatter","param","name","percent","emphasis","shadowBlur","shadowOffsetX","shadowColor","user","JSON","parse","localStorage","getItem","notices","created","$request","get","then","res","mounted","barDom","document","getElementById","barChart","init","map","v","value","setOption","pieDom","pieChart"],"sources":["src/views/manager/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"card\" style=\"padding: 15px\">\n      您好，{{ user?.name }}！欢迎使用本系统\n    </div>\n\n    <div style=\"margin: 10px 0; display: flex; grid-gap: 10px\">\n      <div style=\"flex: 1\" class=\"card\">\n        <div id=\"bar\" style=\"height: 400px\"></div>\n      </div>\n      <div style=\"flex: 1\" class=\"card\">\n        <div id=\"pie\" style=\"height: 400px\"></div>\n      </div>\n    </div>\n\n    <div style=\"display: flex; margin: 10px 0\">\n      <div style=\"width: 50%;\" class=\"card\">\n        <div style=\"margin-bottom: 30px; font-size: 20px; font-weight: bold\">公告列表</div>\n        <div >\n          <el-timeline  reverse slot=\"reference\">\n            <el-timeline-item v-for=\"item in notices\" :key=\"item.id\" :timestamp=\"item.time\">\n              <el-popover\n                  placement=\"right\"\n                  width=\"200\"\n                  trigger=\"hover\"\n                  :content=\"item.content\">\n                <span slot=\"reference\">{{ item.title }}</span>\n              </el-popover>\n            </el-timeline-item>\n          </el-timeline>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\n\nconst barOption = {\n  title: {\n    text: '各类活动报名数量统计',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'axis'\n  },\n  legend: {\n    left: 'left'\n  },\n  xAxis: {\n    type: 'category',\n    data: [],\n    axisLabel: {\n      show: true, // 是否显示刻度标签，默认显示\n      interval: 0, // 坐标轴刻度标签的显示间隔，在类目轴中有效；默认会采用标签不重叠的策略间隔显示标签；可以设置成0强制显示所有标签；如果设置为1，表示『隔一个标签显示一个标签』，如果值为2，表示隔两个标签显示一个标签，以此类推。\n      rotate: -60, // 刻度标签旋转的角度，在类目轴的类目标签显示不下的时候可以通过旋转防止标签之间重叠；旋转的角度从-90度到90度\n      inside: false, // 刻度标签是否朝内，默认朝外\n      margin: 6, // 刻度标签与轴线之间的距离\n    },\n  },\n  yAxis: {\n    type: 'value'\n  },\n  series: [\n    {\n      data: [],\n      type: 'bar',\n      itemStyle: {\n        normal: {\n          color: function(params) { // 根据索引返回对应的颜色\n            let colorList = ['#ffaa2e','#32C5E9','#fa4c4c','#08b448','#FFDB5C','#ff9f7f','#fb7293','#E062AE','#E690D1','#e7bcf3']\n            return colorList[params.dataIndex];\n          }\n        }\n      },\n    }\n  ],\n}\n\nconst pieOption = {\n  title: {\n    text: '各类服务预约统计',\n    subtext: '比例图',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'item'\n  },\n  legend: {\n    orient: 'vertical',\n    left: 'left'\n  },\n  series: [\n    {\n      type: 'pie',\n      center: ['50%', '60%'],\n      radius: '50%',\n      data: [],\n      label: {\n        show: true,\n        formatter(param) {\n          return param.name + ' (' + param.percent + '%)';\n        }\n      },\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowColor: 'rgba(0, 0, 0, 0.5)'\n        }\n      }\n    }\n  ]\n}\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      notices: []\n    }\n  },\n  created() {\n    this.$request.get('/notice/selectAll').then(res => {\n      this.notices = res.data || []\n    })\n  },\n  mounted() {\n    let barDom = document.getElementById('bar');\n    let barChart = echarts.init(barDom);\n\n    this.$request.get('/activitySign/selectCount').then(res => {\n      barOption.xAxis.data =  res.data?.map(v => v.name)\n      barOption.series[0].data =  res.data?.map(v => v.value)\n      barChart.setOption(barOption)\n    })\n\n    let pieDom = document.getElementById('pie');\n    let pieChart = echarts.init(pieDom);\n\n    this.$request.get('/reserve/selectCount').then(res => {\n      pieOption.series[0].data = res.data || []\n      pieChart.setOption(pieOption)\n    })\n\n  }\n}\n</script>\n"],"mappings":"AAqCA,YAAAA,OAAA;AAEA,MAAAC,SAAA;EACAC,KAAA;IACAC,IAAA;IACAC,IAAA;EACA;EACAC,OAAA;IACAC,OAAA;EACA;EACAC,MAAA;IACAH,IAAA;EACA;EACAI,KAAA;IACAC,IAAA;IACAC,IAAA;IACAC,SAAA;MACAC,IAAA;MAAA;MACAC,QAAA;MAAA;MACAC,MAAA;MAAA;MACAC,MAAA;MAAA;MACAC,MAAA;IACA;EACA;;EACAC,KAAA;IACAR,IAAA;EACA;EACAS,MAAA,GACA;IACAR,IAAA;IACAD,IAAA;IACAU,SAAA;MACAC,MAAA;QACAC,KAAA,WAAAA,CAAAC,MAAA;UAAA;UACA,IAAAC,SAAA;UACA,OAAAA,SAAA,CAAAD,MAAA,CAAAE,SAAA;QACA;MACA;IACA;EACA;AAEA;AAEA,MAAAC,SAAA;EACAvB,KAAA;IACAC,IAAA;IACAuB,OAAA;IACAtB,IAAA;EACA;EACAC,OAAA;IACAC,OAAA;EACA;EACAC,MAAA;IACAoB,MAAA;IACAvB,IAAA;EACA;EACAc,MAAA,GACA;IACAT,IAAA;IACAmB,MAAA;IACAC,MAAA;IACAnB,IAAA;IACAoB,KAAA;MACAlB,IAAA;MACAmB,UAAAC,KAAA;QACA,OAAAA,KAAA,CAAAC,IAAA,UAAAD,KAAA,CAAAE,OAAA;MACA;IACA;IACAC,QAAA;MACAhB,SAAA;QACAiB,UAAA;QACAC,aAAA;QACAC,WAAA;MACA;IACA;EACA;AAEA;AAEA;EACAL,IAAA;EACAvB,KAAA;IACA;MACA6B,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,QAAA,CAAAC,GAAA,sBAAAC,IAAA,CAAAC,GAAA;MACA,KAAAL,OAAA,GAAAK,GAAA,CAAAvC,IAAA;IACA;EACA;EACAwC,QAAA;IACA,IAAAC,MAAA,GAAAC,QAAA,CAAAC,cAAA;IACA,IAAAC,QAAA,GAAAtD,OAAA,CAAAuD,IAAA,CAAAJ,MAAA;IAEA,KAAAL,QAAA,CAAAC,GAAA,8BAAAC,IAAA,CAAAC,GAAA;MACAhD,SAAA,CAAAO,KAAA,CAAAE,IAAA,GAAAuC,GAAA,CAAAvC,IAAA,EAAA8C,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAxB,IAAA;MACAhC,SAAA,CAAAiB,MAAA,IAAAR,IAAA,GAAAuC,GAAA,CAAAvC,IAAA,EAAA8C,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,KAAA;MACAJ,QAAA,CAAAK,SAAA,CAAA1D,SAAA;IACA;IAEA,IAAA2D,MAAA,GAAAR,QAAA,CAAAC,cAAA;IACA,IAAAQ,QAAA,GAAA7D,OAAA,CAAAuD,IAAA,CAAAK,MAAA;IAEA,KAAAd,QAAA,CAAAC,GAAA,yBAAAC,IAAA,CAAAC,GAAA;MACAxB,SAAA,CAAAP,MAAA,IAAAR,IAAA,GAAAuC,GAAA,CAAAvC,IAAA;MACAmD,QAAA,CAAAF,SAAA,CAAAlC,SAAA;IACA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}