"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[782],{7782:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});i(7658);var a=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"min-height":"calc(100vh - 86px)"}},[e("div",{staticStyle:{width:"70%",margin:"10px auto"}},[e("div",{staticStyle:{display:"flex","grid-gap":"10px"}},[e("div",{staticStyle:{flex:"1"}},[e("el-carousel",{attrs:{height:"300px"}},t._l(t.imgs,(function(t){return e("el-carousel-item",{key:t},[e("img",{staticStyle:{width:"100%"},attrs:{src:t,alt:""}})])})),1)],1),e("div",{staticStyle:{flex:"1"}},[e("div",{staticStyle:{display:"flex","border-bottom":"1px solid #ddd","margin-bottom":"20px"}},[e("div",{staticClass:"top-news",class:{"top-active":"new"===t.sort},on:{click:function(e){return t.loadTopNews("new")}}},[t._v("最新资讯")]),e("div",{staticClass:"top-news",class:{"top-active":"hot"===t.sort},on:{click:function(e){return t.loadTopNews("hot")}}},[t._v("最热资讯")])]),e("div",{staticStyle:{padding:"0 10px"}},t._l(t.topNews,(function(i){return e("div",{key:i.id,staticStyle:{display:"flex","grid-gap":"10px",margin:"10px 0",cursor:"pointer"},on:{click:function(e){return t.$router.push("/front/newsDetail?id="+i.id)}}},[e("div",{staticClass:"line1",staticStyle:{flex:"1",width:"0"}},[t._v(t._s(i.title))]),e("div",{staticStyle:{color:"#666","font-size":"13px"}},[t._v(t._s(i.time))])])})),0)])]),e("div",{staticStyle:{margin:"30px 0",display:"flex","grid-gap":"20px","min-height":"400px"}},[e("div",{staticStyle:{flex:"1"}},[e("div",{staticStyle:{display:"flex","margin-bottom":"10px"}},[e("div",{staticClass:"category-item",class:{"category-active":null===t.category},on:{click:function(e){return t.loadCategoryNews(null)}}},[t._v("全部")]),t._l(t.categoryList,(function(i){return e("div",{key:i.id,staticClass:"category-item",class:{"category-active":i.name===t.category},on:{click:function(e){return t.loadCategoryNews(i.name)}}},[t._v(t._s(i.name))])}))],2),e("div",t._l(t.tableData,(function(i){return e("div",{key:i.id,staticClass:"card",staticStyle:{display:"flex","margin-bottom":"10px",cursor:"pointer"},on:{click:function(e){return t.$router.push("/front/newsDetail?id="+i.id)}}},[e("img",{staticStyle:{width:"80px",height:"80px","border-radius":"5px"},attrs:{src:i.cover,alt:""}}),e("div",{staticStyle:{"padding-left":"20px"}},[e("div",{staticClass:"line1",staticStyle:{"margin-bottom":"30px","font-size":"18px"}},[t._v(t._s(i.title))]),e("div",{staticStyle:{"font-size":"13px",color:"#666"}},[e("el-tag",[t._v(t._s(i.category))]),e("span",{staticStyle:{margin:"0 20px"}},[t._v(t._s(i.time))]),e("span",[t._v("阅读 "+t._s(i.count))])],1)])])})),0),t.total>0?e("div",{staticStyle:{margin:"10px 0"}},[e("el-pagination",{attrs:{background:"","current-page":t.pageNum,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1):t._e()]),e("div",{staticStyle:{width:"260px"}},[t._m(0),e("div",{staticClass:"card"},t._l(t.activityList,(function(i){return e("div",{key:i.id,staticStyle:{display:"flex","grid-gap":"10px","margin-bottom":"15px",cursor:"pointer"},on:{click:function(e){return t.$router.push("/front/activityDetail?id="+i.id)}}},[e("img",{staticStyle:{width:"60px",height:"60px","border-radius":"5px"},attrs:{src:i.cover,alt:""}}),e("div",{staticStyle:{flex:"1"}},[e("div",{staticClass:"line2",staticStyle:{height:"40px","margin-bottom":"5px"}},[t._v(t._s(i.name))]),e("div",{staticStyle:{color:"#666","font-size":"13px"}},[t._v(t._s(i.start))])])])})),0)])])])])},s=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"margin-bottom":"10px",display:"flex","align-items":"center"}},[e("div",{staticStyle:{flex:"1","font-size":"24px"}},[t._v("公益活动")]),e("a",{attrs:{href:"/front/activity"}},[t._v("更多>>")])])}],l={data(){return{imgs:[i(873),i(9172)],sort:"new",topNews:[],categoryList:[],category:null,pageNum:1,pageSize:4,total:0,tableData:[],activityList:[]}},mounted(){this.loadTopNews("new"),this.loadCategory(),this.loadCategoryNews(null),this.loadActivity()},methods:{loadActivity(){this.$request.get("/activity/selectPage",{params:{pageNum:1,pageSize:6}}).then((t=>{this.activityList=t.data?.list||[]}))},loadCategoryNews(t){this.category=t,this.$request.get("/news/selectPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,category:this.category}}).then((t=>{this.tableData=t.data?.list,this.total=t.data?.total}))},handleCurrentChange(t){this.pageNum=t,this.loadCategoryNews(this.category)},loadCategory(){this.$request.get("/category/selectAll").then((t=>{this.categoryList=t.data||[]}))},loadTopNews(t){this.sort=t,this.$request.get("/news/selectTopNews?sort="+this.sort).then((t=>{this.topNews=t.data||[]}))}}},r=l,o=i(3736),n=(0,o.Z)(r,a,s,!1,null,"26fde0b4",null),c=n.exports},873:function(t,e,i){t.exports=i.p+"img/1.26e7563d.png"},9172:function(t,e,i){t.exports=i.p+"img/2.bec7a099.png"}}]);
//# sourceMappingURL=782.93ac8c58.js.map