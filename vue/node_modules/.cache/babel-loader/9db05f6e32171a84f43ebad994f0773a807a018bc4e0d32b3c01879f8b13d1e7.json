{"ast":null,"code":"export default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      notices: [],\n      info: [],\n      nowTime: \"\"\n    };\n  },\n  created() {\n    this.$request.get('/notice/selectAll').then(res => {\n      this.notices = res.data || [];\n    }), this.$request.get('/notice/getInfo').then(res => {\n      this.info = res.data || [];\n    });\n  },\n  mounted() {\n    this.myEcharts();\n    this.getNowTime();\n    clearInterval(myTimeDisplay); //销毁之前定时器\n    var myTimeDisplay = setInterval(() => {\n      this.getNowTime(); //每秒更新一次时间\n    }, 1000);\n  },\n  methods: {\n    myEcharts() {\n      var line = this.$echarts.init(document.getElementById(\"line\"));\n      //配置图表\n      var option = {\n        title: {\n          text: '志愿服务处理情况',\n          subtext: 'TBank时间银行',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [{\n          name: 'Access From',\n          type: 'pie',\n          radius: '50%',\n          data: [{\n            value: 1048,\n            name: '待审核任务'\n          }, {\n            value: 735,\n            name: '待接单任务'\n          }, {\n            value: 580,\n            name: '已接单任务'\n          }, {\n            value: 484,\n            name: '待确认任务'\n          }, {\n            value: 300,\n            name: '已完成任务'\n          }, {\n            value: 300,\n            name: '已取消任务'\n          }],\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      };\n      line.setOption(option);\n    },\n    getNowTime() {\n      var date = new Date();\n      var time = date.getFullYear() + ' 年 ' + (date.getMonth() + 1) + ' 月 ' + date.getDate() + ' 日 ' + date.getHours() + ':' + this.addZero(date.getMinutes()) + ':' + this.addZero(date.getSeconds());\n      this.nowTime = time;\n    },\n    addZero(s) {\n      return s < 10 ? '0' + s : s;\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","JSON","parse","localStorage","getItem","notices","info","nowTime","created","$request","get","then","res","mounted","myEcharts","getNowTime","clearInterval","myTimeDisplay","setInterval","methods","line","$echarts","init","document","getElementById","option","title","text","subtext","left","tooltip","trigger","legend","orient","series","type","radius","value","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","setOption","date","Date","time","getFullYear","getMonth","getDate","getHours","addZero","getMinutes","getSeconds","s"],"sources":["src/views/manager/Home.vue"],"sourcesContent":["\n<template>\n  <div>\n    <div class=\"card\" style=\"padding: 15px\">\n      <span style=\"margin-bottom: 30px; font-size: 20px; font-weight: bold;\">欢迎您，{{ user?.name }}</span>\n      <div class=\"el-timeline-item__timestamp is-bottom\">\n        {{ nowTime }}\n      </div>\n    </div>\n\n    <div class=\"box\">\n      <div class=\"item\">\n        <span style=\"margin-bottom: 30px; font-size: 18px; font-weight: bold;\">总用户人数</span>\n        <div class=\"num\">\n          {{ info.userNum }}\n        </div>\n      </div>\n      <div class=\"item\">\n        <span style=\"margin-bottom: 30px; font-size: 18px; font-weight: bold;\">认证用户人数</span>\n        <div class=\"num\">\n          {{ info.certificationNum }}\n        </div>\n      </div>\n      <div class=\"item\">\n        <span style=\"margin-bottom: 30px; font-size: 18px; font-weight: bold;\">任务总数量</span>\n        <div class=\"num\">\n          {{ info.orderNum }}\n        </div>\n      </div>\n      <div class=\"item\">\n        <span style=\"margin-bottom: 30px; font-size: 18px; font-weight: bold;\">交易总金额</span>\n        <div class=\"num\">\n          {{ info.money }}\n        </div>\n      </div>\n    </div>\n\n    <div style=\"display: flex; margin: 10px 0px; justify-content: space-between;\">\n      <div style=\"width: 45%;\" class=\"card\">\n        <div style=\"margin-bottom: 30px; font-size: 20px; font-weight: bold; text-align: center;\">公告列表</div>\n        <div>\n          <el-timeline reverse slot=\"reference\">\n            <el-timeline-item v-for=\"item in notices\" :key=\"item.id\" :timestamp=\"item.time\">\n              <el-popover placement=\"right\" width=\"200\" trigger=\"hover\" :content=\"item.content\">\n                <span slot=\"reference\">{{ item.title }}</span>\n              </el-popover>\n            </el-timeline-item>\n          </el-timeline>\n        </div>\n      </div style=\"width: 45%;\" class=\"card\">\n      <div id=\"line\" style=\"width: 650px; height: 500px\">\n      </div>\n    </div>\n  </div>\n\n</template>\n<script>\n\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      notices: [],\n      info: [],\n      nowTime: \"\"\n    }\n  },\n  created() {\n    this.$request.get('/notice/selectAll').then(res => {\n      this.notices = res.data || []\n    }),\n      this.$request.get('/notice/getInfo').then(res => {\n      this.info = res.data || []\n    })\n  },\n  mounted() {\n    this.myEcharts();\n    this.getNowTime();\n    clearInterval(myTimeDisplay);//销毁之前定时器\n    var myTimeDisplay = setInterval(() => {\n      this.getNowTime(); //每秒更新一次时间\n    }, 1000);\n  },\n  methods: {\n    myEcharts() {\n      var line = this.$echarts.init(document.getElementById(\"line\"));\n      //配置图表\n      var option = {\n        title: {\n          text: '志愿服务处理情况',\n          subtext: 'TBank时间银行',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [\n          {\n            name: 'Access From',\n            type: 'pie',\n            radius: '50%',\n            data: [\n              { value: 1048, name: '待审核任务' },\n              { value: 735, name: '待接单任务' },\n              { value: 580, name: '已接单任务' },\n              { value: 484, name: '待确认任务' },\n              { value: 300, name: '已完成任务' },\n              { value: 300, name: '已取消任务' },\n            ],\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      };\n      line.setOption(option);\n    },\n    getNowTime() {\n      var date = new Date();\n      var time = date.getFullYear() + ' 年 ' + (date.getMonth() + 1) + ' 月 ' + date.getDate() + ' 日 ' + date.getHours() + ':' + this.addZero(date.getMinutes()) + ':' + this.addZero(date.getSeconds());\n      this.nowTime = time;\n    },\n    addZero(s) {\n            return s < 10 ? ('0' + s) : s;\n        },\n\n  },\n}\n\n</script>\n\n<style>\n.box {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n}\n\n.item {\n  background-color: rgb(125, 214, 108);\n  color: rgba(221, 219, 219, 0.81);\n  text-align: center;\n  border-radius: 20px;\n  width: 15%;\n  height: 100px;\n  padding: 15px;\n  margin: 10px 0px;\n}\n\n.num {\n  margin-top: 15px;\n  font-size: 18px;\n  font-weight: bold;\n  /* color: rgb(255, 255, 255); */\n}\n</style>\n"],"mappings":"AA2DA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,OAAA;MACAC,IAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,QAAA,CAAAC,GAAA,sBAAAC,IAAA,CAAAC,GAAA;MACA,KAAAP,OAAA,GAAAO,GAAA,CAAAb,IAAA;IACA,IACA,KAAAU,QAAA,CAAAC,GAAA,oBAAAC,IAAA,CAAAC,GAAA;MACA,KAAAN,IAAA,GAAAM,GAAA,CAAAb,IAAA;IACA;EACA;EACAc,QAAA;IACA,KAAAC,SAAA;IACA,KAAAC,UAAA;IACAC,aAAA,CAAAC,aAAA;IACA,IAAAA,aAAA,GAAAC,WAAA;MACA,KAAAH,UAAA;IACA;EACA;EACAI,OAAA;IACAL,UAAA;MACA,IAAAM,IAAA,QAAAC,QAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAC,cAAA;MACA;MACA,IAAAC,MAAA;QACAC,KAAA;UACAC,IAAA;UACAC,OAAA;UACAC,IAAA;QACA;QACAC,OAAA;UACAC,OAAA;QACA;QACAC,MAAA;UACAC,MAAA;UACAJ,IAAA;QACA;QACAK,MAAA,GACA;UACApC,IAAA;UACAqC,IAAA;UACAC,MAAA;UACArC,IAAA,GACA;YAAAsC,KAAA;YAAAvC,IAAA;UAAA,GACA;YAAAuC,KAAA;YAAAvC,IAAA;UAAA,GACA;YAAAuC,KAAA;YAAAvC,IAAA;UAAA,GACA;YAAAuC,KAAA;YAAAvC,IAAA;UAAA,GACA;YAAAuC,KAAA;YAAAvC,IAAA;UAAA,GACA;YAAAuC,KAAA;YAAAvC,IAAA;UAAA,EACA;UACAwC,QAAA;YACAC,SAAA;cACAC,UAAA;cACAC,aAAA;cACAC,WAAA;YACA;UACA;QACA;MAEA;MACAtB,IAAA,CAAAuB,SAAA,CAAAlB,MAAA;IACA;IACAV,WAAA;MACA,IAAA6B,IAAA,OAAAC,IAAA;MACA,IAAAC,IAAA,GAAAF,IAAA,CAAAG,WAAA,cAAAH,IAAA,CAAAI,QAAA,kBAAAJ,IAAA,CAAAK,OAAA,aAAAL,IAAA,CAAAM,QAAA,gBAAAC,OAAA,CAAAP,IAAA,CAAAQ,UAAA,iBAAAD,OAAA,CAAAP,IAAA,CAAAS,UAAA;MACA,KAAA9C,OAAA,GAAAuC,IAAA;IACA;IACAK,QAAAG,CAAA;MACA,OAAAA,CAAA,cAAAA,CAAA,GAAAA,CAAA;IACA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}